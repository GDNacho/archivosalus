<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archivo Salus</title>
</head>
<body>
    <h1>ARCHIVO BLOG SALUS FC</h1>
    <h2>2005-2016, Sebastian Barrios</h2>
    <h3>Extraido del extinto blog de salusfc.com por Ignacio Carvallo</h3>
    <p></p>
    <div id="display"></div>

    <script>
    // Fetching the JSON file
    fetch('posts.json')
      .then(response => response.json())
      .then(data => {
        // Sorting the blog posts based on their published date
        const sortedPosts = data.items.sort((a, b) => new Date(a.published) - new Date(b.published));

        // Creating an HTML list to display the blog posts
        const list = document.createElement('ul');

        // Loop through sortedPosts and create list items
        sortedPosts.forEach((post,i) => {
          const listItem = document.createElement('li');
          const postDate = new Date(post.published).toLocaleDateString(); // Format the date

          // Add post title and formatted date to the list item
          listItem.innerHTML = `<a href="post.html?id=${sortedPosts.length-i-1}">${post.title}</a> - ${postDate}`;
          list.appendChild(listItem);
        });

        // Display the list inside the div with id "display"
        document.getElementById('display').appendChild(list);
      })
      .catch(error => console.error('Error fetching JSON:', error));
    </script>
</body>
</html>